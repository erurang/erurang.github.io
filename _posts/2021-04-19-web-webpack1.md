---
layout: post
title:  "Webpack 사용이유"
subtitle: "Webpack 사용이유"
categories: web
tags: webpack
comments: true

---

## 웹팩을 사용하는 이유

백엔드에서는 (Node.js라고 가정..) 자바스크립트 최신문법을 사용하기위해 `Babel` 컴파일러를 사용해야한다.

그렇다면 브라우저에서도 우리가 사용하는 최신문법을 사용하려면 무엇인가 해주어야하지않을까?

`CSS`를 표현할때 `CSS`만 사용해도 되지만 만약 개발자가 `sass`나 `scss`를 사용하고싶다면? 

두 경우 모두 브라우저가 해석할수 없을것이다. 브라우저는 오직 `HTML CSS JS` 만을 이해할수있기 때문이다.

웹팩은 위와같은 경우들을 해결해주는 즉 개발자가 사용한 언어를 브라우저가 이해할수있는 코드로 변경시켜주는 역할을 한다.

난 웹팩을 **직접 설정**해본적이없다. 대부분의 인기있는 프레임워크엔 설정된 Webpack이 설정되어있기 때문이다. (react, next...)

하지만 간단한 설정방법정도는 알아두어야 한다고 생각하기때문에, 웹팩의 기본만을 공부하여 정리하려고한다.

## 웹팩은 모듈 번들러이다.

![스크린샷 2022-05-24 오후 7 17 58](https://user-images.githubusercontent.com/56789064/170009237-31248f27-7360-4cf7-86c1-921d22dacf6b.png)

웹팩은 개발자의 코드를 변형, 압축, 최소화 하여 브라우저가 이해할수있는 코드를 결과물로 준다. 모듈 번들러 라는것은 여러개의 파일을 하나의 파일로 합쳐준다.

프론트에서 자바스크립트의 역할이 커지면서 **파일단위의 자바스크립트 모듈관리의 필요성**이 대두되기 시작했다.

모듈관리의 필요성?? 아래의 예시를 통해서 감을 잡아보자.

### 모듈로 관리하지 않는다면..

`a.js b.js` 각각 두파일이 있다고 가정하자. 두파일에는 각각 a라는 변수가 지정되어있다.

```
a.js
----
const a = 10;

b.js
----
const a = 20;
```

이 파일을 index.html에 script로 불러온다면 a의 어떤값이 적용이될까? 10일까 20일까?

```
<!-- index.html -->
<html>
  <head>
    <!-- ... -->
  </head>
  <body>
    <!-- ... -->
    <script src="./a.js"></script>
    <script src="./b.js"></script>
    <script>
        console.log(a)
    </script>
  </body>
</html>
```

자바스크립트는 `script` 태그를 사용하여 외부의 스크립트 파일을 가져올 수는 있지만, 파일마다 독립적인 파일 스코프를 갖지 않고 하나의 전역 객체(Global Object)를 공유하기 때문에

`a`는 `20`이란 값이 출력되는것을 알수있다. 왜냐면 `a.js`에서 `10`을 할당하고 뒤이어 오는 파일인 `b.js`에서 `20`으로 재할당했기 떄문이다.

만약 개발을 하면서 변수를 신경쓰지않았으면 우린 이미 선언된 변수에 다른값을 할당해서 예상치못한 오류를 겪을수있다. 이렇기에 모듈관리의 필요성이 대두되었다.