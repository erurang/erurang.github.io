---
layout: post
title:  "SPA에 대해"
subtitle: "SPA에 대해"
categories: web
tags: base
comments: true

---

## Single Page Application

리액트(Vue..)가 SPA라고 하는데.. 이게 무엇일까? 사용자가 사용하는 페이지는 최초의 HTML 딱 하나이기 때문에 SPA라는 이름이 붙었다.

즉 서버로부터 새 페이지(html)를 불러오지 않고 하나의 페이지에서 DOM조작을 통해 컨텐츠만 바뀌는 것이다. 

어떤 웹 사이트의 전체 페이지를 하나의 페이지에 담아 동적으로 화면을 바꿔가며 표현하는 것이 SPA이다.

뭔가를 클릭하거나 스크롤하면, 상호작용하기 위한 최소한의 요소만 변경이 일어난다. 페이지 변경이 일어난다고 보여지는 것 또한 최초 로드된 자바스크립트를 통해 미리 브라우저에 올라간 템플릿만 교체되는 것이다.

## Component

컴포넌트 개념이란 컴포넌트들이 모여 한 페이지를 작성하고 특정 부분만 데이터를 바인딩하는 개념

<img width="783" alt="스크린샷 2021-01-01 오전 10 19 56" src="https://user-images.githubusercontent.com/56789064/103431895-e7fe5e80-4c1a-11eb-8ffc-acbd994e2f4c.png">


## history관리

그렇다면 어떻게 SPA는 기존 전통적인 웹 사이트와 마찬가지로 브라우징이 가능한 것일까? 바로 HTML 5의 history api를 이용하기 때문이다. 

서버로 요청을 전달하지 않고 자바스크립트 영역에서 history api를 통해 현재 페이지 내에서 화면 이동이 일어난 것처럼 작동하게 하는 것이다.

## 구현방식

SPA 구현 방식은 여러 가지가 있는데 대표적인 게 Ajax를 통한 콘텐츠 로드이다. 페이지가 새로고침 없이 데이터가 교환되고 업데이트되는 것이다.

SPA는 화면 이동 시 필요한 데이터를 서버로부터 JSON 데이터로 전달받아 동적으로 렌더링한다.

SPA 프레임워크로 유명한 Angular, React, Vue가 하는 일은 무엇일까? 세부적인 구현 개념은 다르겠지만 그 목적은 모두 SPA를 쉽고 확장성 있게 구현하는 것을 목표로 하고 있다.

이들은 Virtual DOM이라는 개념을 사용해 SPA를 구현한다. SPA의 문제점은 자바스크립트로 인한 DOM 조작이 빈번하게 일어나 브라우저의 성능을 저하시킨다는 것이다.

Virtual DOM을 사용하는 프레임워크들은 실제 DOM 트리를 흉내 낸 가상의 객체 트리로 html 정보를 저장하고 있다가, 이 트리에 변경이 발생하면 모든 변화를 모아 단 한번 브라우저를 호출해 화면을 갱신하는 방법을 사용한다. 

이렇게 하면 브라우저와의 불필요한 상호작용을 최소화하면서 인터렉티브한 웹 사이트를 만드는 것이 가능하다.